/* Tailwind v4: 使用 @import 作为入口 */
@import "tailwindcss";

/* 在 v4 中，dark 变体默认基于媒体查询。如需基于类名触发（.dark），使用自定义变体定义 */
@custom-variant dark (.dark &);

/* 指定内容源，确保扫描 TSX/JSX 文件以生成正确的样式 */
@source "../index.html";
@source "../index.tsx";
@source "../App.tsx";
@source "../{pages,components,hooks,services,utils}/**/*.{ts,tsx,js,jsx}";

/* 变量作为任意值：v4 使用括号语法
   示例：.bg(--brand-color) */

/* 设计令牌：将 v3 的 theme 扩展迁移到 @theme */
@theme {
  --color-primary: #333333;
  --color-background-light: #ffffff;
  --color-background-dark: #111111;
  --color-heymean-l: #F0F0F0;
  --color-heymean-d: #2C2C2C;
  --color-primary-text-light: #333333;
  --color-primary-text-dark: #ffffff;
  --color-thinking-dark: #1A2B21;
  --color-thinking-text-dark: #A6E0B3;

  --font-display: Inter, sans-serif;

  --radius: 0.5rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;
  --radius-2xl: 2rem;
  --radius-full: 9999px;

  --duration-ultra: 150ms;
  --duration-moderate: 220ms;
  --duration-slow: 320ms;

  --ease-out-quad: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-in-out-expo: cubic-bezier(0.87, 0, 0.13, 1);
  --ease-soft-spring: cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* 可选：保持 v3 的默认边框颜色行为 */
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

/* v4：示例自定义容器工具（如需）
@utility container {
  margin-inline: auto;
  padding-inline: 2rem;
}
*/

/* Custom scrollbar styles and overrides that were in index.html */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 6px;
}
.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.2);
}

/* Global transitions */
button, a, input, textarea, label[for] {
  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out, opacity 0.2s ease-in-out;
}

/* Global body styles */
body {
  min-height: 100vh;
  min-height: 100dvh;
  /* Disable text selection globally for a better mobile experience */
  -webkit-user-select: none; /* Safari */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* IE10+/Edge */
  user-select: none; /* Standard */
}

/* Removed skeleton shimmer styles for instant render experience */

/* Material Symbols font settings */
.material-symbols-outlined {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

/* Re-enable text selection for specific elements where it's needed */
input, textarea, .selectable-text {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}

/* Generic Collapsible Checkbox */
input.collapsible-checkbox {
  display: none;
}
.collapsible-content {
  display: none;
}
input.collapsible-checkbox:checked ~ .collapsible-content {
  display: block;
}
input.collapsible-checkbox:checked ~ label .collapsible-icon {
  transform: rotate(180deg);
}
.collapsible-icon {
  transition: transform 0.2s ease-in-out;
}

/* Notes Drawer Styles */
#notes-content {
  /* Smoother, native-like curve */
  transition: transform 260ms cubic-bezier(0.22, 1, 0.36, 1), opacity 200ms ease-out;
}
#notes-drawer:checked ~ #notes-content {
  transform: translateY(0);
  opacity: 1;
  pointer-events: auto;
}
#notes-drawer:checked ~ div #notes-tab {
  display: none;
}
#notes-tab .material-symbols-outlined {
  transition: transform 0.3s ease-in-out;
}
#notes-drawer:checked ~ div #notes-tab .material-symbols-outlined {
  transform: rotate(0deg);
}
